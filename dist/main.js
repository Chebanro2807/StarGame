(()=>{"use strict";class t{constructor(t,e,s,i){return this.app=i,this.deltaHeight=s,this.deltaX=t,this.deltaY=e,this.bulletSpeed=10,this.createBullet()}createBullet(){let t=new PIXI.Sprite.from("image/bullet.png");return t.anchor.set(.5,1),t.width=4,t.x=this.deltaX+t.width/2,t.y=this.deltaY-this.deltaHeight,t.speed=this.bulletSpeed,console.log(t),console.log(t.y),this.app.stage.addChild(t),t}}new class{constructor(){this.app,this.starShip,this.bullets=[],this.planets=[],this.planetSpeed=.5,this.gameContainer=document.querySelector("#gameContainer"),this.app=new PIXI.Application({width:window.innerWidth,height:window.innerHeight,backgroundColor:11184810}),this.gameContainer.appendChild(this.app.view),this.starShip=new PIXI.Sprite.from("image/starShip.png"),this.starShip.anchor.set(.5,1),this.starShip.x=this.app.view.width/2,this.starShip.y=this.app.view.height,this.app.stage.addChild(this.starShip),this.app.ticker.add(this.gameLoop.bind(this)),this.app.stage.interactive=!0,window.addEventListener("keydown",this.moveShip.bind(this)),this.createPlanet()}moveShip(t){switch(t.keyCode){case 37:this.starShip.x-=10;break;case 39:this.starShip.x+=10;break;case 32:this.fireBullet(t)}}fireBullet(){this.bullets.push(new t(this.starShip.x,this.starShip.y,this.starShip.height,this.app))}createPlanet(){let t=new PIXI.Sprite.from("image/planet.png");return t.anchor.set(.5,1),t.anchor.set(.5),t.x=this.app.view.width/2,t.y=0,t.speed=this.planetSpeed,this.app.stage.addChild(t),this.planets.push(t)}updateBullets(){for(let t=0;t<this.bullets.length;t++)this.bullets[t].position.y-=this.bullets[t].speed,this.bullets[t].position.y<0&&(this.bullets[t].dead=!0),this.bullets[t].dead&&(this.app.stage.removeChild(this.bullets[t]),this.bullets.splice(t,1))}updatePlanets(){for(let t=0;t<this.planets.length;t++)this.planets[t].y+=this.planets[t].speed,this.planets[t].y>this.app.view.height&&(this.planets[t].dead=!0);for(let t=0;t<this.planets.length;t++)this.planets[t].dead&&(this.app.stage.removeChild(this.planets[t]),this.planets.splice(t,1))}gameLoop(){this.updateBullets(),this.updatePlanets();for(let t=0;t<this.bullets.length;t++)for(let e=0;e<this.planets.length;e++)this.collision(this.bullets[t],this.planets[e])&&(this.bullets[t].dead=!0,this.planets[e].dead=!0,this.updateBullets(),this.updatePlanets())}collision(t,e){let s=t.getBounds(),i=e.getBounds();return s.x+s.width>i.x&&s.x<i.x+i.width&&s.y+s.height>i.y&&s.y<i.y+i.height}}})();